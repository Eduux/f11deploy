{"version":3,"sources":["helpers/parsers.js","components/HeaderSection/styles.js","components/HeaderSection/index.js","components/RoofList/styles.js","components/RoofList/index.js","components/RoofListExcel/styles.js","components/RoofListExcel/index.js","components/NotFound/styles.js","components/NotFound/index.js","pages/Home/index.js","images/error-404.svg"],"names":["string2StringNumber","data","replace","HeaderSectionStyles","styled","header","HeaderSection","props","text","pathPage","to","defaultProps","RoofContainer","div","Roof","RoofItem","RoofList","list","map","item","key","_id","UF","MUNICIPIO","LOGRADOURO","NUM_FACHADA","COMPLEMENTO","CEP","BAIRRO","QUANTIDADE_UMS","COD_VIABILIDADE","RoofListExcel","Cobertura","hasRoof","Telefone","Cluster","Documento","Conta","Cidade","Endereço","NotFoundContainer","NotFound","message","src","notFoundImage","alt","Home","fileInput","useRef","useState","cep","setCep","numFachada","setNumFachada","massFile","setMassFile","loading","setLoading","error","setError","retornos","setRetornos","retornosExcel","setRetornosExcel","handleSubmit","useCallback","e","a","preventDefault","api","get","items","length","handleExcel","file","fileUpdate","current","files","Swal","fire","title","icon","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","cancelButtonColor","value","formData","FormData","append","post","headers","type","accept","onChange","ref","onSubmit","target","disabled","placeholder","Loading","size","module","exports"],"mappings":"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","file":"static/js/2.ce2dc72d.chunk.js","sourcesContent":["export const string2StringNumber = (data) => data.replace(/[^0-9]+/g, '');","import styled from 'styled-components';\r\n\r\nexport const HeaderSectionStyles = styled.header`\r\n  margin: 40px 0px;\r\n\r\n  a {\r\n    text-decoration: underline;\r\n    margin: 10px 0;\r\n    cursor: pointer;\r\n    color: white;\r\n    display: block;\r\n  }\r\n\r\n  h1 {\r\n    text-transform: uppercase;\r\n    color: #112e42;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { HeaderSectionStyles } from './styles';\r\n\r\nexport default function HeaderSection(props) {\r\n  const { text, pathPage } = props;\r\n\r\n  return (\r\n    <HeaderSectionStyles>\r\n      {pathPage && <Link to={pathPage}>Back</Link>}\r\n      <h1>{text}</h1>\r\n    </HeaderSectionStyles>\r\n  );\r\n}\r\n\r\nHeaderSection.propTypes = {\r\n  text: PropTypes.string,\r\n  pathPage: PropTypes.any,\r\n};\r\n\r\nHeaderSection.defaultProps = {\r\n  text: 'Seção simples',\r\n  pathPage: false,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const RoofContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  margin-top: 40px;\r\n`;\r\n\r\nexport const Roof = styled.div`\r\n  width: 50%;\r\n  text-align: left;\r\n  padding: 0 15px;\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n\r\n  a {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport const RoofItem = styled.div`\r\n  width: 100%;\r\n  background-color: #058586;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  transition: 0.2s box-shadow ease;\r\n  margin-bottom: 40px;\r\n  color: white;\r\n\r\n  &:hover {\r\n    box-shadow: rgba(255, 255, 255, 0.6) 0 0 30px;\r\n  }\r\n\r\n  p {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Roof, RoofContainer, RoofItem } from './styles';\r\n\r\nexport default function RoofList({ list }) {\r\n  return (\r\n    <RoofContainer>\r\n      {list.map((item) => (\r\n        <Roof key={item._id}>\r\n          <RoofItem>\r\n            <p>UF: <strong>{item.UF}</strong></p>\r\n            <p>MUNICIPIO: <strong>{item.MUNICIPIO}</strong></p>\r\n            <p>LOGRADOURO: <strong>{item.LOGRADOURO}</strong></p>\r\n            <p>NÚMERO: <strong>{item.NUM_FACHADA}</strong></p>\r\n            <p>COMPLEMENTO: <strong>{item.COMPLEMENTO}</strong></p>\r\n            <p>CEP: <strong>{item.CEP}</strong></p>\r\n            <p>BAIRRO: <strong>{item.BAIRRO}</strong></p>\r\n            <p>QUANTIDADE UMS: <strong>{item.QUANTIDADE_UMS}</strong></p>\r\n            <p>COD VIABILIDADE: <strong>{item.COD_VIABILIDADE}</strong></p>\r\n          </RoofItem>\r\n        </Roof>\r\n      ))}\r\n    </RoofContainer>\r\n  );\r\n}\r\n\r\nRoofList.propTypes = {\r\n  list: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nRoofList.defaultProps = {\r\n  list: [],\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const RoofContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  margin-top: 40px;\r\n`;\r\n\r\nexport const Roof = styled.div`\r\n  width: 50%;\r\n  text-align: left;\r\n  padding: 0 15px;\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n\r\n  a {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport const RoofItem = styled.div`\r\n  width: 100%;\r\n  background-color: #058586;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  transition: 0.2s box-shadow ease;\r\n  margin-bottom: 40px;\r\n  color: white;\r\n\r\n  &:hover {\r\n    box-shadow: rgba(255, 255, 255, 0.6) 0 0 30px;\r\n  }\r\n\r\n  p {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Roof, RoofContainer, RoofItem } from './styles';\r\n\r\nexport default function RoofListExcel({ list }) {\r\n  return (\r\n    <RoofContainer>\r\n      {list.map((item) => (\r\n        <Roof key={item.Cobertura}>\r\n          <RoofItem>\r\n            <p>Tem Cobertura?: <strong>{item.hasRoof ? 'Sim' : 'Não'}</strong></p>\r\n            <p>Telefone: <strong>{item.Telefone}</strong></p>\r\n            <p>Cluster: <strong>{item.Cluster}</strong></p>\r\n            <p>Documento: <strong>{item.Documento}</strong></p>\r\n            <p>Conta: <strong>{item.Conta}</strong></p>\r\n            <p>Cidade: <strong>{item.Cidade}</strong></p>\r\n            <p>Endereço: <strong>{item.Endereço}</strong></p>\r\n            <p>CEP: <strong>{item.CEP}</strong></p>\r\n            <p>Número: <strong>{item['Número']}</strong></p>\r\n            <p>Cobertura: <strong>{item.Cobertura}</strong></p>\r\n          </RoofItem>\r\n        </Roof>\r\n      ))}\r\n    </RoofContainer>\r\n  );\r\n}\r\n\r\nRoofListExcel.propTypes = {\r\n  list: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nRoofListExcel.defaultProps = {\r\n  list: [],\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const NotFoundContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 50px;\r\n  img {\r\n    width: 100px;\r\n    margin-right: 10px;\r\n  }\r\n  p {\r\n    color: #112e42;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport notFoundImage from '../../images/error-404.svg';\r\n\r\nimport { NotFoundContainer } from './styles';\r\n\r\nexport default function NotFound({ message }) {\r\n  return (\r\n    <NotFoundContainer>\r\n      <img src={notFoundImage} alt=\"Not Found\" />\r\n      <p>{message}</p>\r\n    </NotFoundContainer>\r\n  );\r\n}\r\n\r\nNotFound.defaultProps = {\r\n  message: 'Não encontrado'\r\n}\r\n","import React, { useState, useCallback, useRef } from 'react';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport api from '../../helpers/api';\r\nimport { string2StringNumber } from '../../helpers/parsers';\r\n\r\nimport HeaderSection from '../../components/HeaderSection';\r\nimport RoofList from '../../components/RoofList';\r\nimport RoofListExcel from '../../components/RoofListExcel';\r\nimport Loading from '../../components/Loading';\r\nimport NotFound from '../../components/NotFound';\r\n\r\nimport { Container, Form, SubmitButton, LoadingContainer, InfosTitle, ContainerExcel } from '../../styles/mixins';\r\n\r\nexport default function Home() {\r\n  const fileInput = useRef(null);\r\n  const [cep, setCep] = useState('');\r\n  const [numFachada, setNumFachada] = useState('');\r\n  const [massFile, setMassFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [retornos, setRetornos] = useState(null);\r\n  const [retornosExcel, setRetornosExcel] = useState(null);\r\n\r\n  const handleSubmit = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      setRetornos(null);\r\n      setRetornosExcel(null);\r\n      if (cep || numFachada) {\r\n        setError(false);\r\n        setLoading('Buscando cobertura');\r\n        try {\r\n          const { items } = await api.get(`excel?cep=${cep}&numFachada=${numFachada}`);\r\n\r\n          if (items.length > 0) {\r\n            setRetornos(items);\r\n            setLoading(false);\r\n          } else {\r\n            setError(\"Nenhum registro encontrado!\");\r\n            setLoading(false);\r\n          }\r\n        } catch (err) {\r\n          setError('Servidor está com problemas aguarde um momento!');\r\n          setLoading(false);\r\n        }\r\n      }\r\n    },\r\n    [cep, numFachada],\r\n  );\r\n\r\n  const handleExcel = async (file) => {\r\n    const fileUpdate = fileInput.current.files[0];\r\n    setMassFile(true);\r\n    setRetornos(null);\r\n    setRetornosExcel(null);\r\n    const { value } = await Swal.fire({\r\n      title: 'Deseja fazer a comparação?',\r\n      text: \"Esse processo pode demorar alguns minutos devido a grande massa de dados! \\n\\n Colunas necessárias: CEP, Número\",\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Sim',\r\n      cancelButtonText: 'Não',\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n    });\r\n\r\n    if (value) {\r\n      setError(false);\r\n      setLoading('Analisando dados linha a linha, processo pode demorar...');\r\n\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('excel', fileUpdate);\r\n        const data = await api.post('excel/findByExcel', formData, {\r\n          headers: {\r\n            'content-type': 'multipart/form-data'\r\n          }\r\n        });\r\n\r\n        if (data.length > 0) {\r\n          setRetornosExcel(data);\r\n          setLoading(false);\r\n          setMassFile(false);\r\n        } else {\r\n          setError(\"Nenhum registro encontrado!\");\r\n          setLoading(false);\r\n          setMassFile(false);\r\n        }\r\n      } catch (err) {\r\n        setError('Servidor está com problemas aguarde um momento!');\r\n        setLoading(false);\r\n        setMassFile(null);\r\n      }\r\n    } else {\r\n      setMassFile(null);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ContainerExcel>\r\n        <HeaderSection text=\"Pesquisa de cobertura\" />\r\n        <div>\r\n          <p>Busca em massa com excel (*opcional)</p>\r\n          {!massFile && (\r\n            <input \r\n              type=\"file\"\r\n              accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n              onChange={handleExcel}\r\n              ref={fileInput}\r\n            />\r\n          )}\r\n        </div>\r\n      </ContainerExcel>\r\n      <Container>\r\n        <Form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setCep(string2StringNumber(e.target.value))}\r\n            value={cep}\r\n            disabled={!!loading}\r\n            placeholder=\"Pesquisar por cep\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setNumFachada(string2StringNumber(e.target.value))}\r\n            value={numFachada}\r\n            disabled={!!loading}\r\n            placeholder=\"Pesquisar por número\"\r\n          />\r\n          <SubmitButton disabled={loading}>\r\n            Buscar\r\n          </SubmitButton>\r\n        </Form>\r\n      </Container>\r\n\r\n      {error ? (\r\n        <NotFound message={error} />\r\n      ) : (\r\n        <>\r\n          {(loading) ? (\r\n            <LoadingContainer>\r\n              <Loading size={120} />\r\n              <p>{loading}</p>\r\n            </LoadingContainer>\r\n          ) : (\r\n            <>\r\n              {retornos && (\r\n                <>\r\n                  <InfosTitle>\r\n                    Retornos: {retornos.length}\r\n                  </InfosTitle>\r\n                  <RoofList list={retornos} />\r\n                </>\r\n              )}\r\n              {retornosExcel && (\r\n                <>\r\n                  <InfosTitle>\r\n                    Retornos: {retornosExcel.length}\r\n                  </InfosTitle>\r\n                  <RoofListExcel list={retornosExcel} />\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/error-404.009e7e12.svg\";"],"sourceRoot":""}